<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 12 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Lucida Console";
	panose-1:2 11 6 9 4 5 4 2 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"Título 1 Car";
	margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;}
h2
	{mso-style-link:"Título 2 Car";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h3
	{mso-style-link:"Título 3 Car";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h4
	{mso-style-link:"Título 4 Car";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-style:italic;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:36.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:36.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.Ttulo1Car
	{mso-style-name:"Título 1 Car";
	mso-style-link:"Título 1";
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Ttulo2Car
	{mso-style-name:"Título 2 Car";
	mso-style-link:"Título 2";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Ttulo3Car
	{mso-style-name:"Título 3 Car";
	mso-style-link:"Título 3";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Ttulo4Car
	{mso-style-name:"Título 4 Car";
	mso-style-link:"Título 4";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
p.Code, li.Code, div.Code
	{mso-style-name:Code;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:10.0pt;
	font-family:"Lucida Console";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:70.85pt 3.0cm 70.85pt 3.0cm;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=ES>

<div class=Section1>

<h1><span lang=EN-US>High-Level stuff</span></h1>

<h2><span lang=EN-US>File system structure</span></h2>

<p class=MsoNormal><span lang=EN-US>The file system path format is based on the
standard internet URI format.</span></p>

<p class=MsoNormal><span lang=EN-US>The paths are formed like ([] denotes
optionality, * denotes “zero or more”):</span></p>

<p class=MsoNormal style='margin-left:35.4pt'><span lang=EN-US>[&lt;service&gt;:][/&lt;component&gt;]*[/]</span></p>

<h3><span lang=EN-US>Service Roots</span></h3>

<p class=MsoNormal><span lang=EN-US>Each full path starts with a service root.
The service root is an identifier followed by a colon.</span></p>

<h4><span lang=EN-US>Examples:</span></h4>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>“system:” is the main root where all the system
devices, services, and other system components lie.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>A partition on a hard drive could be assigned to
the “data:” root.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>“ftp:” would be a valid Service Root for a
service implementing the File Transfer Protocol.</span></p>

<h3><span lang=EN-US>Directory Components</span></h3>

<p class=MsoNormal><span lang=EN-US>Each component consists of a forward slash,
followed by an identifier. Path components are case-sensitive by default,
meaning a component “/Foo” and a component “/foo” do not necessarily point to
the same place. Services which choose to implement case-insensitive components
should accept any case as input, and should always show lower-case when
listing.</span></p>

<h4><span lang=EN-US>Examples:</span></h4>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>“ftp://ftp.mozilla.org/pub/firefox/” could be a
perfectly valid path, assuming there’s a “ftp:” service to handle it (the path
parsing routines automatically remove extra “/” characters).</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>If said “ftp:” handler was installed, the OS
would expose a message pipe in “system:/services/ftp” which could be queried
for information on the service.</span></p>

<h3><span lang=EN-US>The System Root</span></h3>

<p class=MsoNormal><span lang=EN-US>The system root, “system:” implements most
of the service and device interfaces.</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:12.5pt;border-collapse:collapse;border:none'>
 <tr>
  <td width=151 colspan=2 valign=top style='width:4.0cm;border:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><b><span lang=EN-US>system:/</span></b></p>
  </td>
  <td width=408 valign=top style='width:306.3pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><b><span lang=EN-US>Description</span></b></p>
  </td>
 </tr>
 <tr>
  <td width=28 valign=top style='width:21.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>/devices</span></p>
  </td>
  <td width=408 valign=top style='width:306.3pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>Lists the devices exposed by the drivers for use in
  the user side.</span></p>
  </td>
 </tr>
 <tr>
  <td width=28 valign=top style='width:21.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>/services</span></p>
  </td>
  <td width=408 valign=top style='width:306.3pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>Lists the registered root handler service programs.</span></p>
  </td>
 </tr>
 <tr>
  <td width=28 valign=top style='width:21.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>/named</span></p>
  </td>
  <td width=408 valign=top style='width:306.3pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>Lists the system-wide named objects.</span></p>
  </td>
 </tr>
 <tr>
  <td width=28 valign=top style='width:21.25pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=123 valign=top style='width:92.15pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>/alias</span></p>
  </td>
  <td width=408 valign=top style='width:306.3pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
  normal'><span lang=EN-US>Lists the path-to-root aliases.</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:11.0pt;line-height:115%;font-family:"Calibri","sans-serif"'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><span lang=EN-US>User mode API</span></h2>

<p class=MsoNormal><span lang=EN-US>The user-mode API defines the set of
functions implemented in the user-mode system library.</span></p>

<h3><span lang=EN-US>Naming Convention</span></h3>

<p class=MsoNormal><span lang=EN-US>The goal of the API is to implement a
object-oriented interface, while keeping the API independent of specific
programming language restrictions.</span></p>

<p class=MsoNormal><span lang=EN-US>To achieve this goal, the API will
implement the object-oriented paradigm through plain functions and object
handles.</span></p>

<p class=MsoNormal><span lang=EN-US>API functions names will include the name
of the object class they act on at the beginning of the name.</span></p>

<h4><span lang=EN-US>Example</span></h4>

<p class=MsoListParagraph style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>All functions which work on “file” objects, will
have their names start with “File”, like “FileOpen”, “FileRead”, etc.</span></p>

<h3><span lang=EN-US>Function  Interface (parameters) Convention</span></h3>

<p class=MsoNormal><span lang=EN-US>API functions will take the main object
handle always as the first parameter (if there’s one), followed by the
parameters for the specific function or method. The return value(s) will then
follow last, sent as references/pointers, and filled by the function. The
actual return value of the API functions will be a result code, telling about
the result of the operation, and in case of failure, the details of the error.</span></p>

<h4><span lang=EN-US>Example</span></h4>

<p class=MsoListParagraph style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>ResultCode FileGetInformation(FileHandle [IN] h,
FileInformation [REF] i );</span></p>

<h3><span lang=EN-US>Result Codes</span></h3>

<p class=MsoNormal><span lang=EN-US>The result code will be a 32 or 64bit value
(depending on the native size of the OS and CPU), and its contents depend on
the success or failure status.</span></p>

<p class=MsoNormal><span lang=EN-US>A success code is any code with the
top-most bit set to 0 (in other words, a positive integer). In case of a
success, the rest of the bits in the result code are undefined, and free to use
by the function.</span></p>

<p class=MsoNormal><span lang=EN-US>In case of a failure, the code will be
encoded as follows:</span></p>

<p class=MsoNormal><span lang=EN-US>&lt;severity&gt;&lt;cause type&gt;[&lt;padding&gt;]&lt;cause
code&gt;</span></p>

<p class=MsoNormal><span lang=EN-US>&lt;severity&gt; will be a 4bit number 
with the top-most bit always set to “1”. This leaves severity to a range of 0
through 7, as follows:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>0. Basic Error: This kind of error should be the
most common, and would include invalid parameter errors and similar problems.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>1. Security Error: This kind of error includes
causes derived from missing access privileges.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>2. Not Available Error: The system cannot
execute this function, either because it’s not implemented, or because the
resource is unavailable at the moment.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>3. Fatal Error: This error indicates the
resource which the function is corrupted or lost, and the application will have
to dispose of the handle and try to re-gain access to it.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>4 through 7: these error severity codes are
internal to the system, and an application should never receive them.</span></p>

<p class=MsoNormal><span lang=EN-US>&lt;cause type&gt; will be a 12bit number
with system-defined causes (all undefined values are considered reserved and
should NOT be used). The value with all bits set to “1” can be used for
user-defined result codes where no system code is applicable.</span></p>

<p class=MsoNormal><span lang=EN-US>In the 64bit API, &lt;padding&gt; will
consist of a series of 32 “0” bits. In the 32bit API, there’s no
&lt;padding&gt; present.</span></p>

<p class=MsoNormal><span lang=EN-US>&lt;cause code&gt; will be a 16bit number,
and its valid values will depend on the &lt;cause type&gt;. As with it, undefined
&lt;cause codes&gt; are reserved and should not be used. The exception is with
the user-defined cause type, where all cause codes are valid.</span></p>

<h3><span lang=EN-US>API Function Ideas</span></h3>

<h4><span lang=EN-US>Named Objects</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>ObjectCreateName</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] object, </span></p>

<p class=Code><span lang=EN-US>                       String [IN] name );</span></p>

<h4><span lang=EN-US>Directory Listing</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryOpen </b>( </span></p>

<p class=Code><span lang=EN-US>                       String [IN] name, </span></p>

<p class=Code><span lang=EN-US>                       Handle [REF] handle );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryClose</b> ( Handle [IN] dir
);</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryRewind</b> ( Handle [IN] dir
);</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryGetCurrent</b> (</span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] dir, </span></p>

<p class=Code><span lang=EN-US>                       Handle [REF] entry );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryGoNext</b> ( Handle [IN]
dir );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryCreateEntry</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] dir, </span></p>

<p class=Code><span lang=EN-US>                       String [IN] entryName</span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] file</span></p>

<p class=Code><span lang=EN-US>                       Handle [REF] entry );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryEntryGetName</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] entry, </span></p>

<p class=Code><span lang=EN-US>                       String [REF] name );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryEntrySetName</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] entry, </span></p>

<p class=Code><span lang=EN-US>                       String [IN] name );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryEntryGetAccessList</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] entry, </span></p>

<p class=Code><span lang=EN-US>                       AccessList [REF] list );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryEntrySetAccessList</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] entry, </span></p>

<p class=Code><span lang=EN-US>                       AccessList [REF] list );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>DirectoryEntryDelete</b> ( Handle
[IN] entry );</span></p>

<h4><span lang=EN-US>File Access</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>FileOpen</b> ( String [IN] path,
Handle [REF] file );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>FileClose</b> ( Handle [IN] file
);</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>FileGetInformation </b>( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] file, </span></p>

<p class=Code><span lang=EN-US>                       FileInformation [REF]
info );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>FileSetInformation</b>  </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] file, </span></p>

<p class=Code><span lang=EN-US>                       FileInformation [REF]
info );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>FileGetStream</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] file, </span></p>

<p class=Code><span lang=EN-US>                       String [IN] streamName, </span></p>

<p class=Code><span lang=EN-US>                       Handle [OUT] streamHandle
);</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>FileCreateStream</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] file, </span></p>

<p class=Code><span lang=EN-US>                       String [IN] streamName, </span></p>

<p class=Code><span lang=EN-US>                       Handle [OUT] streamHandle
);</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>FileDeleteStream</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] file, </span></p>

<p class=Code><span lang=EN-US>                       String [IN] streamName );</span></p>

<h4><span lang=EN-US>Stream Access</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>StreamRead</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] stream, </span></p>

<p class=Code><span lang=EN-US>                       UInt [IN] byteSize, </span></p>

<p class=Code><span lang=EN-US>                       Any [REF] buffer );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>StreamWrite</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] stream, </span></p>

<p class=Code><span lang=EN-US>                       UInt [IN] byteSize, </span></p>

<p class=Code><span lang=EN-US>                       Any [REF] buffer );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>StreamSeek</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] stream, </span></p>

<p class=Code><span lang=EN-US>                       UInt64 [IN] position, </span></p>

<p class=Code><span lang=EN-US>                       ReferencePosition [IN] from
);</span></p>

<h4><span lang=EN-US>Stream Pipes</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>StreamPipeCreate</b> ( Handle [REF]
pipe );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>StreamPipeDispose</b> ( Handle
[IN] pipe );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>StreamPipeGetReadStream</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] pipe, </span></p>

<p class=Code><span lang=EN-US>                       Handle [REF] stream );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>StreamPipeGetWriteStream</b> ( </span></p>

<p class=Code><span lang=EN-US>                       Handle [IN] pipe, </span></p>

<p class=Code><span lang=EN-US>                       Handle [REF] stream );</span></p>

<h4><span lang=EN-US>Message Pipe Access</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>MessagePipeCreate</b> ( Handle [REF]
pipe );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MessagePipeDispose</b> ( Handle [IN]
pipe );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MessagePipeSend</b> ( Handle [IN] pipe,
</span></p>

<p class=Code><span lang=EN-US>                       UInt [IN] byteSize, </span></p>

<p class=Code><span lang=EN-US>                       Any [REF] buffer );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MessagePipeReceive</b> ( Handle [IN]
pipe, </span></p>

<p class=Code><span lang=EN-US>                       UInt [IN] byteSize, </span></p>

<p class=Code><span lang=EN-US>                       Any [REF] buffer );</span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MessagePipeReceivePending</b> (
Handle [IN] pipe );</span></p>

<h4><span lang=EN-US>Memory and Address Mapping</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>MemoryAlloc</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MemoryRelease</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MemoryMapViewOfMemory</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MemoryMapViewOfFile</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MemoryUnmap</b></span></p>

<h4><span lang=EN-US>Processes, Modules and Threads</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>ProcessCreate</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ProcessAttachModule</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ProcessCreateThread</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ThreadCreate</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ThreadSetAddress</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ThreadSuspend</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ThreadContinue</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ModuleLoad</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ModuleUnload</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ModuleGetExport</b></span></p>

<h4><span lang=EN-US>Structured Exception Handling</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>ExceptionPushHandler</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ExceptionPopHandler</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ExceptionSetSeverityFilter</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ExceptionAddResultTypeFilter</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ExceptionRaise</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>ExceptionRaiseAfterDelay</b></span></p>

<h4><span lang=EN-US>Synchronization</span></h4>

<p class=Code><span lang=EN-US>ResultCode <b>MutexAlloc</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MutexDispose</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MutexAcquire</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>MutexRelease</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>SemaphoreAlloc</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>SemaphoreDispose</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>SemaphoreSetCounter</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>SemaphoreCountDown</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>SemaphoreCountUp</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>WaitableQueueAlloc</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>WaitableQueueDispose</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>WaitableQueueWait</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>WaitableQueueNotify</b></span></p>

<p class=Code><span lang=EN-US>ResultCode <b>WaitableQueueNotifyAll</b></span></p>

<h4><span lang=EN-US>More to come…</span></h4>

<h1><span lang=EN-US>Mid-level stuff</span></h1>

<h2><span lang=EN-US>User-Driver Interface Ideas</span></h2>

<h3><span lang=EN-US>Base Driver Model</span></h3>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Stream Devices</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Random Block Devices</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Message (Variable-size Packet) Devices</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>IOControl/IORequest</span></p>

<h3><span lang=EN-US>Special-Purpose Driver Interfaces (using IORequest)</span></h3>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Kernel-mode Service (File System) Handler</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Graphics Device Interface</span></p>

</div>

</body>

</html>
